<!doctype html>
<html lang=en ng-app="DemoApp">
	
	<head>
		<meta charset=utf-8>
		<title>model-validator demo</title>
		<link rel="stylesheet" href="bootstrap.css">
		<style>
		
			.error {
				color: red;
			}
		
		</style>
	</head>
	<body ng-controller="DemoCtrl">
	
		<div class="container-fluid">
	
			<div class="row">

				<div class="col-md-2 col-lg-3"></div>
				<div class="col-md-8 col-lg-6">

					<h2>Person Form</h2>
					
					<form>

						<div class="form-group">
							<input type="text" class="form-control"
								placeholder="First Name" ng-model="person.firstName">
							<p class="error" ng-show="errors.firstName">{{errors.firstName}}</p>
						</div>

						<div class="form-group">
							<input type="text" class="form-control"
								placeholder="Last Name" ng-model="person.lastName">
							<p class="error" ng-show="errors.lastName">{{errors.lastName}}</p>
						</div>

						<button class="btn btn-primary" ng-click="validate()">Validate</button>
						
					</form>

					<hr/>
					<p>The <em><b>$scope.errors</b></em> object:</p>
					<pre>{{ errors | json }}</pre>
					
				</div>
				<div class="col-md-2 col-lg-3"></div>

			</div>

		</div>
		
		<script src="model-validator.js"></script>
		<script src="angular.js"></script>
		<script>

			var app = angular.module("DemoApp", []);
			app.controller('DemoCtrl', function($scope) {

				var firstNameValidation = {
					name: "firstName",
					rules: [
						{
							name : "required"
						}
					]
				};
				
				var lastNameValidation = {
					name: "lastName",
					rules: [
						{
							name : "required"
						}
					]
				};
				
				var validator = new ModelValidator([ 
					firstNameValidation,
					lastNameValidation
				]);
				
				$scope.errors = {};
				
				$scope.person = {
					firstName: "Peter",
					lastName: "Parker"
				}
				
				$scope.validate = function() {
					$scope.errors = validator.validate($scope.person);
				}				

			});

		</script>
		
	</body>
	
</html>